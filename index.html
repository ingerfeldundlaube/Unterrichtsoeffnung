<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>Formatspinne Unterrichtsöffnung – Schieberegler</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0;
    background: #167a72; color: #fff;
  }
  .container {
    max-width: 1200px; margin: 0 auto; padding: 32px;
  }
  .top-brand {
    text-align: right; font-weight: 700;
    margin-bottom: 10px; font-size: 16px; white-space: nowrap;
  }
  h1, h2 {
    text-align: center;
  }
  h1 {
    font-size: 34px; margin: 0 0 8px; font-weight: 700;
  }
  h2 {
    font-size: 20px; margin: 0 0 26px; font-weight: 600;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 28px 28px;
    margin-bottom: 30px;
  }
  .grid-item {
    background: rgba(255, 255, 255, 0.12);
    border-radius: 18px;
    padding: 20px;
    display: flex;
    flex-direction: column;
  }
  .dimension-label {
    font-weight: 700;
    margin-bottom: 10px;
    font-size: 16px;
    text-align: center;
  }
  input[type=range] {
    width: 100%;
    height: 4px;
    background: #d9dede;
    border-radius: 2px;
    outline: none;
  }
  input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 18px;
    width: 18px;
    border-radius: 50%;
    background: #c52828;
    border: 2px solid #fff;
    cursor: pointer;
  }
  .desc {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    margin-top: 8px;
  }
  .desc div {
    width: 33%;
    text-align: center;
    padding: 0 4px;
  }
  .controls {
    display: flex;
    gap: 12px;
    justify-content: center;
    margin: 28px 0 30px;
  }
  .btn {
    padding: 10px 16px;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    color: white;
    cursor: pointer;
  }
  .btn-reset {
    background: #c52828;
  }
  .btn-save {
    background: #295357;
  }
  #radarCanvasWrap {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 16px;
    padding: 40px 0;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 24px;
  }
  canvas {
  width: 800px;
  height: 800px;
}
  footer {
    text-align: center;
    font-size: 14px;
    border-top: 1px solid rgba(255,255,255,0.3);
    padding-top: 10px;
  }
  footer a {
    color: #fff;
    text-decoration: none;
  }
  footer .row {
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="container">

<div class="top-brand">Ingerfeld + Laube</div>
<h1>Wie lässt sich Unterricht öffnen?</h1>
<h2>Dimensionen der Unterrichtsöffnung mit Schiebereglern reflektieren</h2>

<div class="grid">

  <!-- I. Inhaltlich-didaktische sowie methodische Öffnung -->
  <div class="grid-title">I. Inhaltlich-didaktische sowie methodische Öffnung</div>

  <div class="grid-item">
    <div class="dimension-label">Thema</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Vorgegeben</div>
      <div>Auswahl</div>
      <div>Selbstgewählt</div>
    </div>
  </div>

  <div class="grid-item">
    <div class="dimension-label">Aufgabenstellung</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Eine Lösung</div>
      <div>Mehrere Lösungen</div>
      <div>Eigenständige Problemfindung</div>
    </div>
  </div>

  <div class="grid-item">
    <div class="dimension-label">Lernprodukte</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Einheitlich</div>
      <div>Auswahl</div>
      <div>Frei</div>
    </div>
  </div>

  <div class="grid-item">
    <div class="dimension-label">Lernwege / Methoden / Material</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Vorgegeben</div>
      <div>Auswahl</div>
      <div>Selbst geplant</div>
    </div>
  </div>

  <!-- II. Prozessuale Öffnung -->
  <div class="grid-title">II. Prozessuale Öffnung</div>

  <div class="grid-item">
    <div class="dimension-label">Arbeitstempo</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Einheitlich</div>
      <div>Teilweise frei</div>
      <div>Individuell</div>
    </div>
  </div>

  <div class="grid-item">
    <div class="dimension-label">Lernschrittfolge</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Vorgegeben</div>
      <div>Gemeinsam</div>
      <div>Selbst gewählt</div>
    </div>
  </div>

  <div class="grid-item">
    <div class="dimension-label">Zielfestlegung</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Vorgegeben</div>
      <div>Mitbestimmt</div>
      <div>Eigenständig</div>
    </div>
  </div>

  <!-- III. Bewertungsbezogene Öffnung -->
  <div class="grid-title">III. Bewertungsbezogene Öffnung</div>

  <div class="grid-item">
    <div class="dimension-label">Meta-Lernen</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Thematisiert</div>
      <div>Reflektiert</div>
      <div>Angewendet</div>
    </div>
  </div>

  <div class="grid-item">
    <div class="dimension-label">Feedbackprozesse</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Summativ</div>
      <div>Strukturiert</div>
      <div>Frei & formativ</div>
    </div>
  </div>

  <div class="grid-item">
    <div class="dimension-label">Beteiligung an Bewertung</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Vorgegeben</div>
      <div>Mitbestimmt</div>
      <div>Gemeinsam entwickelt</div>
    </div>
  </div>

</div>

  <div class="grid-item">
    <div class="dimension-label">Lernwege / Methoden / Material</div>
    <input class="slider" type="range" min="1" max="3" value="1" />
    <div class="desc">
      <div>Lehrkraft steuert und gibt für alle vor.</div>
      <div>Eine Auswahl wird angeboten.</div>
      <div>Eigenständige Planung und Gestaltung.</div>
    </div>
  </div>

</div>

<div class="controls">
  <button id="btnReset" class="btn btn-reset">Alle Regler zurücksetzen</button>
  <button id="btnSave" class="btn btn-save">Spinne herunterladen</button>
</div>

<div id="radarCanvasWrap">
  <canvas id="radarChart" width="520" height="520"></canvas>
</div>

<footer>
  <div class="row">
    <strong>Ingerfeld + Laube</strong> &middot;
    <a href="https://www.ingerfeldundlaube.de" target="_blank">www.ingerfeldundlaube.de</a> &middot;
    Instagram: <a href="https://instagram.com/ingerfeldundlaube" target="_blank">@ingerfeldundlaube</a>
  </div>
</footer>

</div>

<script>
const sliders = Array.from(document.querySelectorAll('.slider'));
const labels = [
  "Thema",
  "Aufgabenstellung",
  "Lernprodukte",
  "Lernwege / Methoden / Material",
  "Arbeitstempo",
  "Lernschrittfolge",
  "Zielfestlegung",
  "Meta-Lernen",
  "Feedbackprozesse",
  "Beteiligung an Bewertung"
];
const baseValues = labels.map(() => 1.3);
let values = labels.map(() => 1);
const ctx = document.getElementById('radarChart').getContext('2d');

const chart = new Chart(ctx, {
  type: 'radar',
  data: {
    labels: labels,
    datasets: [
      {
        label: 'Basisfläche',
        data: baseValues,
        borderColor: 'rgba(128,128,128,0.7)',
        backgroundColor: 'rgba(128,128,128,0.15)',
        pointRadius: 6,
        fill: true,
        borderWidth: 3
      },
      {
        label: 'Aktuelle Werte',
        data: values,
        borderColor: '#c52828',
        backgroundColor: 'rgba(197,40,40,0.35)',
        pointBackgroundColor: '#c52828',
        pointBorderColor: '#fff',
        pointRadius: 5,
        borderWidth: 2,
        fill: true
      }
    ]
  },
  options: {
    layout: { padding: { top: 80, bottom: 80, left: 80, right: 80 } },
    plugins: { legend: { display: false } },
    scales: {
      r: {
        min: 1,
        max: 3,
        ticks: { display: false },
        angleLines: { color: 'rgba(255,255,255,0.5)' },
        grid: { color: 'rgba(255,255,255,0.4)' },
        pointLabels: { font: { size: 11 }, padding: 28, color: '#fff' }
      }
    }
  }
});

function adjustValuesForArea(vals) {
  const countAboveOne = vals.filter(v => v > 1).length;
  if (countAboveOne === 1) {
    const idx = vals.findIndex(v => v > 1);
    const nextIdx = (idx + 1) % vals.length;
    if (vals[nextIdx] === 1) {
      vals[nextIdx] = vals[idx];
    }
  }
  return vals;
}
  
const sliderToLabelIndex = [0, 4, 7, 1, 5, 8, 2, 6, 9, 3];
sliders.forEach((sliderEl, i) => {
  sliderEl.addEventListener('input', () => {
    const targetIdx = sliderToLabelIndex[i];
    values[targetIdx] = parseInt(sliderEl.value, 10);
    chart.data.datasets[1].data = values;
    chart.update();
  });
});

document.getElementById('btnReset').addEventListener('click', () => {
  values.fill(1);
  sliders.forEach(s => s.value = 1);
  chart.data.datasets[1].data = values;
  chart.update();
});

document.getElementById('btnSave').addEventListener('click', () => {
  const exportCanvas = document.createElement('canvas');

  // etwas kleineres Gesamtbild
  exportCanvas.width = 1600;
  exportCanvas.height = 1600;

  const xctx = exportCanvas.getContext('2d');

  // Hintergrundfarbe
  xctx.fillStyle = '#167a72';
  xctx.fillRect(0, 0, exportCanvas.width, exportCanvas.height);

  // Radar größer skaliert und zentriert einfügen
  xctx.drawImage(document.getElementById('radarChart'), 300, 300, 1000, 1000);

  const link = document.createElement('a');
  link.download = 'formatspinne-unterrichtsoeffnung.png';
  link.href = exportCanvas.toDataURL('image/png');
  link.click();
});
</script>

</body>
</html>
