<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>Unterricht öffnen – Schieberegler & Formatspinne</title>
<style>
  body{
    font-family: Arial, sans-serif;
    margin:0; padding:0;
    background:#167a72; color:#ffffff;
    overflow-x:hidden;
  }
  .container{ max-width:1200px; margin:0 auto; padding:32px; }
  .top-brand{text-align:right;font-weight:700;margin-bottom:10px;font-size:16px;white-space:nowrap;}
  h1{text-align:center;font-size:34px;margin:0 0 8px;font-weight:700;}
  h2{text-align:center;font-size:20px;margin:0 0 26px;font-weight:600;}

  /* Grid: immer zeilenweise I.1–II.1–III.1 usw. */
  .grid{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:28px;
    background:rgba(255,255,255,0.08);
    padding:28px;
    border-radius:18px;
  }
  .col-header{font-size:18px;font-weight:700;margin-bottom:10px;text-align:center;}
  .dimension{margin-bottom:16px;}
  .label{font-weight:700;margin-bottom:4px;font-size:14px;}

  input[type=range]{width:100%;height:4px;background:#d9dede;border-radius:2px;outline:none;}
  input[type=range]::-webkit-slider-thumb{
    -webkit-appearance:none;height:18px;width:18px;border-radius:50%;background:#c52828;border:2px solid #fff;cursor:pointer;
  }

  .desc{display:flex;justify-content:space-between;font-size:12px;margin-top:4px;}
  .desc div{text-align:center;width:33%;}

  .controls{display:flex;gap:12px;justify-content:center;margin:28px 0 12px;}
  .btn{padding:10px 16px;border:none;border-radius:6px;font-weight:600;color:#fff;cursor:pointer;}
  .btn-reset{background:#c52828;}
  .btn-save{background:#295357;}

  #radarCanvasWrap{
    background:rgba(255,255,255,0.1);
    padding:20px;border-radius:16px;
    display:flex;justify-content:center;margin-bottom:12px;
  }
  canvas{max-width:520px;max-height:520px;width:520px;height:520px;}

  footer{text-align:center;font-size:14px;border-top:1px solid rgba(255,255,255,0.3);padding-top:10px;margin-top:24px;}
  footer a{color:#fff;text-decoration:none;}
  footer .row{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;}
</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="container">
  <div class="top-brand">Ingerfeld + Laube</div>
  <h1>Wie lässt sich Unterricht öffnen?</h1>
  <h2>Mit dem Schieberegler Dimensionen der Unterrichtsöffnung reflektieren</h2>

  <div class="grid">
    <div class="col-header">I. Inhaltlich-didaktische sowie methodische Öffnung</div>
    <div class="col-header">II. Prozessuale Öffnung</div>
    <div class="col-header">III. Bewertungsbezogene Öffnung</div>

    <!-- Zeile 1: I.1 – II.1 – III.1 -->
    <div class="dimension">
      <div class="label">Thema</div>
      <input class="slider" type="range" min="1" max="3" value="1">
      <div class="desc">
        <div>Vollständig vorgegeben und festgelegt.</div>
        <div>Vorgegeben mit Wahlmöglichkeiten in der Ausgestaltung.</div>
        <div>Selbstwählbar innerhalb eines Rahmens.</div>
      </div>
    </div>

    <div class="dimension">
      <div class="label">Arbeitstempo</div>
      <input class="slider" type="range" min="1" max="3" value="1">
      <div class="desc">
        <div>Einheitliches Tempo für alle.</div>
        <div>Teilweise individuelles Tempo.</div>
        <div>Individuelles Arbeitstempo.</div>
      </div>
    </div>

    <div class="dimension">
      <div class="label">Meta-Lernen</div>
      <input class="slider" type="range" min="1" max="3" value="1">
      <div class="desc">
        <div>Fachbezogene Lernstrategien werden thematisiert.</div>
        <div>Fachbezogene Lernstrategien werden reflektiert.</div>
        <div>Fachbezogene Lernstrategien werden eingeübt und verwendet.</div>
      </div>
    </div>

    <!-- Zeile 2: I.2 – II.2 – III.2 -->
    <div class="dimension">
      <div class="label">Aufgabenstellung</div>
      <input class="slider" type="range" min="1" max="3" value="1">
      <div class="desc">
        <div>Aufgaben mit einer richtigen Lösung.</div>
        <div>Aufgaben mit mehreren möglichen Lösungen.</div>
        <div>Komplexe Aufgaben mit selbständiger Problemfindung und -lösung.</div>
      </div>
    </div>

    <div class="dimension">
      <div class="label">Lernschrittfolge</div>
      <input class="slider" type="range" min="1" max="3" value="1">
      <div class="desc">
        <div>Reihenfolge von Lehrkraft festgelegt.</div>
        <div>Reihenfolge gemeinsam festgelegt.</div>
        <div>Schüler:innen legen Reihenfolge fest.</div>
      </div>
    </div>

    <div class="dimension">
      <div class="label">Feedbackprozesse</div>
      <input class="slider" type="range" min="1" max="3" value="1">
      <div class="desc">
        <div>Feedback durch Lehrkraft, meist summativ.</div>
        <div>Peer-, Lehrkraft- und Selbstfeedback.</div>
        <div>Selbstbestimmt, primär formativ.</div>
      </div>
    </div>

    <!-- Zeile 3: I.3 – II.3 – III.3 -->
    <div class="dimension">
      <div class="label">Lernprodukte</div>
      <input class="slider" type="range" min="1" max="3" value="1">
      <div class="desc">
        <div>Einheitliche Produktform vorgegeben.</div>
        <div>Wahl zwischen Produktformaten möglich.</div>
        <div>Freie Wahl von Produktform und Darstellung.</div>
      </div>
    </div>

    <div class="dimension">
      <div class="label">Zielfestlegung</div>
      <input class="slider" type="range" min="1" max="3" value="1">
      <div class="desc">
        <div>Lernziele ausschließlich durch Lehrkraft definiert.</div>
        <div>Mitbestimmung der Ziele.</div>
        <div>Eigenständige Formulierung individueller Ziele.</div>
      </div>
    </div>

    <div class="dimension">
      <div class="label">Beteiligung an Bewertung</div>
      <input class="slider" type="range" min="1" max="3" value="1">
      <div class="desc">
        <div>Bewertungskriterien vorgegeben, Bewertung durch Lehrkraft.</div>
        <div>Mitbestimmung einzelner Kriterien und Beteiligung an Gewichtungen.</div>
        <div>Gemeinsame Entwicklung und Anwendung von Bewertungskriterien.</div>
      </div>
    </div>

    <!-- Zeile 4: I.4 (allein in der ersten Spalte) -->
    <div class="dimension">
      <div class="label">Lernwege / Methoden / Material</div>
      <input class="slider" type="range" min="1" max="3" value="1">
      <div class="desc">
        <div>Lehrkraft steuert und gibt für alle vor.</div>
        <div>Eine Auswahl wird angeboten.</div>
        <div>Eigenständige Planung und Gestaltung.</div>
      </div>
    </div>
    <div></div><div></div> <!-- Platzhalter für Spalten 2/3 -->
  </div>

  <h2>Formatspinne Unterrichtsöffnung</h2>
  <div class="controls">
    <button id="btnReset" class="btn btn-reset">Alle Regler zurücksetzen</button>
    <button id="btnSave" class="btn btn-save">Spinne herunterladen</button>
  </div>

  <div id="radarCanvasWrap">
    <canvas id="radarChart" width="520" height="520"></canvas>
  </div>

  <footer>
    <div class="row">
      <strong>Ingerfeld + Laube</strong> •
      <a href="https://www.ingerfeldundlaube.de" target="_blank">www.ingerfeldundlaube.de</a> •
      Instagram:<a href="https://instagram.com/ingerfeldundlaube" target="_blank">@ingerfeldundlaube</a>
    </div>
  </footer>
</div>

<script>
/* Alle Slider der Reihenfolge nach einsammeln (zeilenweise I–II–III) */
const sliders = Array.from(document.querySelectorAll('.slider'));

/* Beschriftung der Spinne: I.1–4, II.1–3, III.1–3  (insgesamt 10) */
const labels = [
  "Thema",                      // I.1
  "Aufgabenstellung",           // I.2
  "Lernprodukte",               // I.3
  "Lernwege/Methoden/Material", // I.4
  "Arbeitstempo",               // II.1
  "Lernschrittfolge",           // II.2
  "Zielfestlegung",             // II.3
  "Meta-Lernen",                // III.1
  "Feedbackprozesse",           // III.2
  "Beteiligung an Bewertung"    // III.3
];

/* Mapping: Slider-Index (DOM) -> Index im Chart (labels oben)
   DOM-Reihenfolge der Slider ist:
   0 Thema, 1 Arbeitstempo, 2 Meta-Lernen,
   3 Aufgabenstellung, 4 Lernschrittfolge, 5 Feedbackprozesse,
   6 Lernprodukte, 7 Zielfestlegung, 8 Beteiligung,
   9 Lernwege/Methoden/Material
*/
const map = [0,4,7,1,5,8,2,6,9,3];

/* Startwerte (0..2) – wir nutzen 0 als „links“, 2 als „rechts“ */
let values = new Array(labels.length).fill(0);

/* Hilfsfunktion: diagonales Schraffur-Muster erzeugen */
function makeStripePattern(){
  const p = document.createElement('canvas');
  p.width = 12; p.height = 12;
  const g = p.getContext('2d');
  g.fillStyle = 'rgba(255,255,255,0.18)';
  g.fillRect(0,0,12,12);
  g.strokeStyle = 'rgba(22,122,114,0.85)'; // dunklerer Grundton für Striche
  g.lineWidth = 4;
  g.beginPath();
  g.moveTo(-4,12); g.lineTo(12,-4);
  g.moveTo(0,16);  g.lineTo(16,0);
  g.stroke();
  return g.createPattern(p,'repeat');
}

const ctx = document.getElementById('radarChart').getContext('2d');
const patternFill = makeStripePattern();

const chart = new Chart(ctx,{
  type:'radar',
  data:{labels:labels,datasets:[{
    data:values,
    borderColor:'#ffffff',
    backgroundColor: patternFill,   // SCHRAFFIERTE FLÄCHE
    fill:true,
    pointBackgroundColor:'#c52828',
    pointBorderColor:'#ffffff',
    pointRadius:5, borderWidth:2
  }]},
  options:{
    layout:{padding:{top:42,bottom:42,left:48,right:48}},
    plugins:{legend:{display:false}},
    scales:{
      r:{
        min:0,max:2,                // 0..2 entspricht Slider 1..3
        ticks:{display:false},
        angleLines:{color:'rgba(255,255,255,0.55)'},
        grid:{color:'rgba(255,255,255,0.55)'},
        pointLabels:{color:'#fff',font:{size:14,weight:'bold'},padding:16}
      }
    }
  }
});

/* Slider → Werte (mit Mapping) ins Chart schreiben */
sliders.forEach((s,domIdx)=>{
  s.addEventListener('input',()=>{
    const chartIdx = map[domIdx];
    values[chartIdx] = Number(s.value) - 1; // 1..3 → 0..2
    chart.data.datasets[0].data = values;
    chart.update();
  });
});

/* Reset: alles auf „links“ */
document.getElementById('btnReset').addEventListener('click',()=>{
  values.fill(0);
  sliders.forEach(s=>s.value=1);
  chart.data.datasets[0].data = values;
  chart.update();
});

/* Download als PNG: exportiert die schraffierte Spinne mittig */
document.getElementById('btnSave').addEventListener('click',()=>{
  const exportCanvas = document.createElement('canvas');
  exportCanvas.width = 1000;
  exportCanvas.height = 1000;
  const x = exportCanvas.getContext('2d');

  // Hintergrund in Seitenfarbe
  x.fillStyle = '#167a72';
  x.fillRect(0,0,exportCanvas.width,exportCanvas.height);

  // Chart-Canvas mittig platzieren
  const src = document.getElementById('radarChart');
  const size = Math.min(src.width, src.height); // 520
  const target = 720;                            // größer für bessere Lesbarkeit
  const offX = (exportCanvas.width - target)/2;
  const offY = (exportCanvas.height - target)/2;
  x.drawImage(src, 0,0,size,size, offX,offY,target,target);

  const a = document.createElement('a');
  a.download = 'formatspinne-unterrichtsoeffnung.png';
  a.href = exportCanvas.toDataURL('image/png');
  a.click();
});
</script>
</body>
</html>
