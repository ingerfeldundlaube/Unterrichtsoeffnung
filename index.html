<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>Formatspinne Unterrichtsöffnung – Schieberegler</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0;
    background: #167a72; color: #fff;
  }
  .container {
    max-width: 1200px; margin: 0 auto; padding: 32px;
  }
  .top-brand {
    text-align: right; font-weight: 700;
    margin-bottom: 10px; font-size: 16px; white-space: nowrap;
  }
  h1 {
    text-align: center; font-size: 34px;
    margin: 0 0 8px; font-weight: 700;
  }
  h2 {
    text-align: center; font-size: 20px;
    margin: 0 0 26px; font-weight: 600;
  }
  .blocks {
    display: flex; gap: 28px; justify-content: center; margin-bottom: 28px;
  }
  .block {
    background: rgba(255,255,255,0.12);
    border-radius: 18px;
    padding: 18px;
    min-width: 320px;
    flex: 1 1 0;
  }
  .block-header {
    font-size: 18px; font-weight: 700; margin-bottom: 10px; text-align: center;
  }
  .dimension {
    margin-bottom: 26px;
  }
  .label {
    font-weight: 700; margin-bottom: 4px; font-size: 15px;
  }
  input[type=range] {
    width: 100%; height: 4px;
    background: #d9dede; border-radius: 2px; outline: none;
  }
  input[type=range]::-webkit-slider-thumb {
    -webkit-appearance: none; height: 18px; width: 18px;
    border-radius: 50%; background: #c52828; border: 2px solid #fff;
    cursor: pointer;
  }
  .desc {
    display: flex; justify-content: space-between;
    font-size: 13px; margin-top: 7px;
  }
  .desc div {
    text-align: center; width: 33%; padding: 0 4px;
  }
  .controls {
    display: flex; gap: 12px; justify-content: center; margin: 28px 0 12px;
  }
  .btn {
    padding: 10px 16px; border: none; border-radius: 6px;
    font-weight: 600; color: #fff; cursor: pointer;
  }
  .btn-reset {
    background: #c52828;
  }
  .btn-save {
    background: #295357;
  }
  #radarCanvasWrap {
    background: rgba(255,255,255,0.15);
    padding: 40px 0;
    margin-bottom: 12px;
    border-radius: 16px;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  canvas {
    display: block;
    max-width: 520px;
    max-height: 520px;
    width: 520px;
    height: 520px;
  }
  footer {
    text-align: center;
    font-size: 14px;
    border-top: 1px solid rgba(255,255,255,0.3);
    padding-top: 10px;
    margin-top: 24px;
  }
  footer a {
    color: #fff;
    text-decoration: none;
  }
  footer .row {
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
  }
</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="container">
  <div class="top-brand">Ingerfeld + Laube</div>
  <h1>Wie lässt sich Unterricht öffnen?</h1>
  <h2>Mit dem Schieberegler Dimensionen der Unterrichtsöffnung reflektieren</h2>

  <div class="blocks">
    <div class="block">
      <div class="block-header">I. Inhaltlich-didaktische sowie methodische Öffnung</div>
      <div class="dimension">
        <div class="label">Thema</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Vollständig vorgegeben und festgelegt.</div>
          <div>Vorgegeben mit Wahlmöglichkeiten in der Ausgestaltung.</div>
          <div>Selbstwählbar innerhalb eines Rahmens.</div>
        </div>
      </div>
      <div class="dimension">
        <div class="label">Aufgabenstellung</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Aufgaben mit einer richtigen Lösung.</div>
          <div>Aufgaben mit mehreren möglichen Lösungen.</div>
          <div>Komplexe Aufgaben mit selbständiger Problemfindung und -lösung.</div>
        </div>
      </div>
      <div class="dimension">
        <div class="label">Lernprodukte</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Einheitliche Produktform vorgegeben.</div>
          <div>Wahl zwischen Produktformaten möglich.</div>
          <div>Freie Wahl von Produktform und Darstellung.</div>
        </div>
      </div>
      <div class="dimension">
        <div class="label">Lernwege, Arbeitsformen, Material, Methoden</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Lehrkraft steuert und gibt für alle vor.</div>
          <div>Eine Auswahl wird angeboten.</div>
          <div>Eigenständige Planung und Gestaltung.</div>
        </div>
      </div>
    </div>
    <div class="block">
      <div class="block-header">II. Prozessuale Öffnung</div>
      <div class="dimension">
        <div class="label">Arbeitstempo</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Einheitliches Tempo für alle.</div>
          <div>Teilweise individuelles Tempo.</div>
          <div>Individuelles Arbeitstempo.</div>
        </div>
      </div>
      <div class="dimension">
        <div class="label">Lernschrittfolge</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Reihenfolge von Lehrkraft festgelegt.</div>
          <div>Reihenfolge gemeinsam festgelegt.</div>
          <div>Schüler:innen legen Reihenfolge fest.</div>
        </div>
      </div>
      <div class="dimension">
        <div class="label">Zielfestlegung</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Lernziele ausschließlich durch Lehrkraft definiert.</div>
          <div>Mitbestimmung der Ziele.</div>
          <div>Eigenständige Formulierung individueller Ziele.</div>
        </div>
      </div>
    </div>
    <div class="block">
      <div class="block-header">III. Bewertungsbezogene Öffnung</div>
      <div class="dimension">
        <div class="label">Meta-Lernen</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Fachbezogene Lernstrategien werden thematisiert.</div>
          <div>Fachbezogene Lernstrategien werden reflektiert.</div>
          <div>Fachbezogene Lernstrategien werden eingeübt und verwendet.</div>
        </div>
      </div>
      <div class="dimension">
        <div class="label">Feedbackprozesse</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Feedback durch Lehrkraft, in der Regel summativ.</div>
          <div>Peer-, Lehrkraft- und Selbstfeedback in vorgegebenen Strukturen, auch formativ.</div>
          <div>Feedbackprozesse frei wähl- und gestaltbar, primär formativ.</div>
        </div>
      </div>
      <div class="dimension">
        <div class="label">Beteiligung an Bewertung</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Bewertungskriterien vorgegeben, Bewertung durch Lehrkraft.</div>
          <div>Mitbestimmung einzelner Kriterien und Beteiligung an Gewichtigungen.</div>
          <div>Gemeinsame Entwicklung und Anwendung von Bewertungskriterien.</div>
        </div>
      </div>
    </div>
  </div>

  <h2>Formatspinne Unterrichtsöffnung</h2>
  <div class="controls">
    <button id="btnReset" class="btn btn-reset">Alle Regler zurücksetzen</button>
    <button id="btnSave" class="btn btn-save">Spinne herunterladen</button>
  </div>

  <div id="radarCanvasWrap">
    <canvas id="radarChart" width="520" height="520"></canvas>
  </div>

  <footer>
    <div class="row">
      <strong>Ingerfeld + Laube</strong> &middot; 
      <a href="https://www.ingerfeldundlaube.de" target="_blank">www.ingerfeldundlaube.de</a> &middot; 
      Instagram: <a href="https://instagram.com/ingerfeldundlaube" target="_blank">@ingerfeldundlaube</a>
    </div>
  </footer>
</div>

<script>
const sliders = Array.from(document.querySelectorAll('.slider'));
const labels = [
  "Thema",
  "Aufgabenstellung",
  "Lernprodukte",
  "Lernwege, Arbeitsformen, Material, Methoden",
  "Arbeitstempo",
  "Lernschrittfolge",
  "Zielfestlegung",
  "Meta-Lernen",
  "Feedbackprozesse",
  "Beteiligung an Bewertung"
];
// Basiswerte für ausgegraute Grundfläche
const baseValues = labels.map(() => 1.3);
// Werte aus Schiebereglern
let values = labels.map(() => 1);
const ctx = document.getElementById('radarChart').getContext('2d');
const chart = new Chart(ctx, {
  type: 'radar',
   {
    labels: labels,
    datasets: [
      {
        label: 'Basisfläche',
         baseValues,
        borderColor: 'rgba(128,128,128,0.7)',
        backgroundColor: 'rgba(128,128,128,0.15)',
        pointRadius: 0,
        fill: true,
        borderWidth: 1,
      },
      {
        label: 'Aktuelle Werte',
         values,
        borderColor: '#c52828',
        backgroundColor: 'rgba(197, 40, 40, 0.35)',
        pointBackgroundColor: '#c52828',
        pointBorderColor: '#fff',
        pointRadius: 5,
        borderWidth: 2,
        fill: true,
      }
    ]
  },
  options: {
    layout: { padding: { top: 80, bottom: 80, left: 80, right: 80 } },
    plugins: { legend: { display: false } },
    scales: {
      r: {
        min: 1,
        max: 3,
        ticks: { display: false },
        angleLines: { color: 'rgba(255,255,255,0.5)' },
        grid: { color: 'rgba(255,255,255,0.4)' },
        pointLabels: { font: { size: 11 }, padding: 28, color: '#fff' }
      }
    }
  }
});

// Funktionslogik für „immer Fläche sichtbar“ auch bei einem einzigen Wert aufgezogen
function adjustValuesForArea(vals) {
  const countAboveOne = vals.filter(v => v > 1).length;
  if (countAboveOne === 1) {
    const idx = vals.findIndex(v => v > 1);
    const nextIdx = (idx + 1) % vals.length;
    if (vals[nextIdx] === 1) {
      vals[nextIdx] = vals[idx];
    }
  }
  return vals;
}

sliders.forEach((sliderEl, i) => {
  sliderEl.addEventListener('input', () => {
    values[i] = parseInt(sliderEl.value);
    const adjustedValues = adjustValuesForArea([...values]);
    chart.data.datasets[1].data = adjustedValues;
    chart.update();
  });
});

document.getElementById('btnReset').addEventListener('click', () => {
  values.fill(1);
  sliders.forEach(s => s.value = 1);
  chart.data.datasets[1].data = values;
  chart.update();
});

document.getElementById('btnSave').addEventListener('click', () => {
  const exportCanvas = document.createElement('canvas');
  exportCanvas.width = 1400;
  exportCanvas.height = 1400;
  const xctx = exportCanvas.getContext('2d');
  xctx.fillStyle = '#167a72';
  xctx.fillRect(0, 0, 1400, 1400);
  xctx.drawImage(document.getElementById('radarChart'), 440, 440, 520, 520);
  const link = document.createElement('a');
  link.download = 'formatspinne-unterrichtsoeffnung.png';
  link.href = exportCanvas.toDataURL('image/png');
  link.click();
});
</script>
</body>
</html>
