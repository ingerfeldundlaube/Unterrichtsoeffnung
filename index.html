<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>Formatspinne Unterrichtsöffnung – Schieberegler</title>
<style>
  :root{
    /* einheitliche Zeilenhöhe für Dimensionen (pro Slider-Zeile) */
    --row-h: 160px;
  }
  body{
    font-family: Arial, sans-serif;
    margin:0; padding:0;
    background:#167a72; color:#fff;
  }
  .container{max-width:1200px; margin:0 auto; padding:32px;}
  .top-brand{ text-align:right; font-weight:700; margin-bottom:10px; font-size:16px; white-space:nowrap;}
  h1{ text-align:center; font-size:34px; margin:0 0 8px; font-weight:700;}
  h2{ text-align:center; font-size:20px; margin:0 0 26px; font-weight:600;}

  /* 3 Spalten, Zeilen richten sich an gleicher Höhe aus */
  .blocks{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:28px;
    margin-bottom:28px;
    align-items:start;
  }
  .block{
    background:rgba(255,255,255,0.12);
    border-radius:18px;
    padding:18px;
    min-width:320px;
  }
  .block-header{ font-size:18px; font-weight:700; margin-bottom:10px; text-align:center; }

  .dimension{
    margin-bottom:26px;
    height:var(--row-h);   /* sorgt dafür, dass I.1/II.1/III.1 etc. exakt auf einer Linie liegen */
    display:flex;
    flex-direction:column;
    justify-content:flex-start;
  }

  .label{ font-weight:700; margin-bottom:6px; font-size:15px; }
  input[type=range]{
    width:100%; height:4px; background:#d9dede; border-radius:2px; outline:none;
  }
  input[type=range]::-webkit-slider-thumb{
    -webkit-appearance:none; height:18px; width:18px; border-radius:50%;
    background:#c52828; border:2px solid #fff; cursor:pointer;
  }
  .desc{ display:flex; justify-content:space-between; font-size:13px; margin-top:7px; gap:8px;}
  .desc div{ text-align:center; width:33%; padding:0 4px; }

  .controls{ display:flex; gap:12px; justify-content:center; margin:28px 0 12px;}
  .btn{ padding:10px 16px; border:none; border-radius:6px; font-weight:600; color:#fff; cursor:pointer;}
  .btn-reset{ background:#c52828;}
  .btn-save{ background:#295357;}

  #radarCanvasWrap{
    background:rgba(255,255,255,0.15);
    padding:40px 0; margin-bottom:12px; border-radius:16px;
    display:flex; justify-content:center; align-items:center; min-height:560px;
  }
  canvas{ display:block; width:520px; height:520px; }

  footer{ text-align:center; font-size:14px; border-top:1px solid rgba(255,255,255,0.3); padding-top:10px; margin-top:24px;}
  footer a{ color:#fff; text-decoration:none;}
  footer .row{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap;}
</style>

<!-- Chart.js v4 -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
<div class="container">
  <div class="top-brand">Ingerfeld + Laube</div>
  <h1>Wie lässt sich Unterricht öffnen?</h1>
  <h2>Mit dem Schieberegler Dimensionen der Unterrichtsöffnung reflektieren</h2>

  <div class="blocks">
    <!-- Block I -->
    <div class="block">
      <div class="block-header">I. Inhaltlich-didaktische sowie methodische Öffnung</div>

      <div class="dimension">
        <div class="label">Thema</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Vollständig vorgegeben und festgelegt.</div>
          <div>Vorgegeben mit Wahlmöglichkeiten in der Ausgestaltung.</div>
          <div>Selbstwählbar innerhalb eines Rahmens.</div>
        </div>
      </div>

      <div class="dimension">
        <div class="label">Aufgabenstellung</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Aufgaben mit einer richtigen Lösung.</div>
          <div>Aufgaben mit mehreren möglichen Lösungen.</div>
          <div>Komplexe Aufgaben mit selbständiger Problemfindung und -lösung.</div>
        </div>
      </div>

      <div class="dimension">
        <div class="label">Lernprodukte</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Einheitliche Produktform vorgegeben.</div>
          <div>Wahl zwischen Produktformaten möglich.</div>
          <div>Freie Wahl von Produktform und Darstellung.</div>
        </div>
      </div>

      <div class="dimension">
        <div class="label">Lernwege, Arbeitsformen, Material, Methoden</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Lehrkraft steuert und gibt für alle vor.</div>
          <div>Eine Auswahl wird angeboten.</div>
          <div>Eigenständige Planung und Gestaltung.</div>
        </div>
      </div>
    </div>

    <!-- Block II -->
    <div class="block">
      <div class="block-header">II. Prozessuale Öffnung</div>

      <div class="dimension">
        <div class="label">Arbeitstempo</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Einheitliches Tempo für alle.</div>
          <div>Teilweise individuelles Tempo.</div>
          <div>Individuelles Arbeitstempo.</div>
        </div>
      </div>

      <div class="dimension">
        <div class="label">Lernschrittfolge</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Reihenfolge von Lehrkraft festgelegt.</div>
          <div>Reihenfolge gemeinsam festgelegt.</div>
          <div>Schüler:innen legen Reihenfolge fest.</div>
        </div>
      </div>

      <div class="dimension">
        <div class="label">Zielfestlegung</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Lernziele ausschließlich durch Lehrkraft definiert.</div>
          <div>Mitbestimmung der Ziele.</div>
          <div>Eigenständige Formulierung individueller Ziele.</div>
        </div>
      </div>
    </div>

    <!-- Block III -->
    <div class="block">
      <div class="block-header">III. Bewertungsbezogene Öffnung</div>

      <div class="dimension">
        <div class="label">Meta-Lernen</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Fachbezogene Lernstrategien werden thematisiert.</div>
          <div>Fachbezogene Lernstrategien werden reflektiert.</div>
          <div>Fachbezogene Lernstrategien werden eingeübt und verwendet.</div>
        </div>
      </div>

      <div class="dimension">
        <div class="label">Feedbackprozesse</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Feedback durch Lehrkraft, in der Regel summativ.</div>
          <div>Peer-, Lehrkraft- und Selbstfeedback in vorgegebenen Strukturen, auch formativ.</div>
          <div>Feedbackprozesse frei wähl- und gestaltbar, primär formativ.</div>
        </div>
      </div>

      <div class="dimension">
        <div class="label">Beteiligung an Bewertung</div>
        <input class="slider" type="range" min="1" max="3" value="1">
        <div class="desc">
          <div>Bewertungskriterien vorgegeben, Bewertung durch Lehrkraft.</div>
          <div>Mitbestimmung einzelner Kriterien und Beteiligung an Gewichtigungen.</div>
          <div>Gemeinsame Entwicklung und Anwendung von Bewertungskriterien.</div>
        </div>
      </div>
    </div>
  </div>

  <h2>Formatspinne Unterrichtsöffnung</h2>
  <div class="controls">
    <button id="btnReset" class="btn btn-reset">Alle Regler zurücksetzen</button>
    <button id="btnSave" class="btn btn-save">Spinne herunterladen</button>
  </div>

  <div id="radarCanvasWrap">
    <canvas id="radarChart" width="520" height="520"></canvas>
  </div>

  <footer>
    <div class="row">
      <strong>Ingerfeld + Laube</strong> •
      <a href="https://www.ingerfeldundlaube.de" target="_blank">www.ingerfeldundlaube.de</a> •
      Instagram: <a href="https://instagram.com/ingerfeldundlaube" target="_blank">@ingerfeldundlaube</a>
    </div>
  </footer>
</div>

<script>
/* ---------- Slider-Logik ---------- */
const sliders = Array.from(document.querySelectorAll('.slider'));

/* zweizeilige Labels als Arrays: Chart.js rendert jede Zeile separat */
const labels = [
  ["Thema"],
  ["Aufgabenstellung"],
  ["Lernprodukte"],
  ["Lernwege, Arbeitsformen,", "Material, Methoden"],
  ["Arbeitstempo"],
  ["Lernschrittfolge"],
  ["Zielfestlegung"],
  ["Meta-Lernen"],
  ["Feedbackprozesse"],
  ["Beteiligung an", "Bewertung"]
];

const baseValues = labels.map(() => 1.3);
let values = labels.map(() => 1);

/* ---------- Chart ---------- */
const canvas = document.getElementById('radarChart');
const ctx = canvas.getContext('2d');

/* Schraffur ohne Plugin: CanvasPattern */
function makeDiagonalPattern(ctx, strokeColor = "rgba(255,255,255,0.35)"){
  const size = 16;
  const off = document.createElement('canvas');
  off.width = size; off.height = size;
  const p = off.getContext('2d');
  p.strokeStyle = strokeColor;
  p.lineWidth = 2;
  p.beginPath();
  p.moveTo(-2, size-2);
  p.lineTo(size-2, -2);
  p.stroke();
  return ctx.createPattern(off, 'repeat');
}

const basePattern = makeDiagonalPattern(ctx, "rgba(255,255,255,0.35)");

const chart = new Chart(ctx,{
  type:'radar',
  data:{
    labels,
    datasets:[
      {
        label:"Basisfläche",
        data: baseValues,
        borderColor:"rgba(255,255,255,0.7)",
        backgroundColor: basePattern,   // schraffiert
        pointRadius:0,
        borderWidth:1,
        fill:true
      },
      {
        label:"Werte",
        data: values,
        borderColor:"#c52828",
        backgroundColor:"rgba(197,40,40,0.35)",
        pointBackgroundColor:"#c52828",
        pointBorderColor:"#fff",
        pointRadius:5,
        borderWidth:2,
        fill:true
      }
    ]
  },
  options:{
    layout:{ padding:60 },
    plugins:{ legend:{ display:false } },
    scales:{
      r:{
        min:1, max:3,
        ticks:{ display:false },
        angleLines:{ color:"rgba(255,255,255,0.55)" },
        grid:{ color:"rgba(255,255,255,0.4)" },
        pointLabels:{
          color:"#fff",
          font:{ size:13 },
          padding:22,
          lineHeight:1.2
        }
      }
    }
  }
});

/* Slider -> Werte aktualisieren */
sliders.forEach((s,i)=>{
  s.addEventListener('input',()=>{
    values[i] = parseInt(s.value,10);
    chart.data.datasets[1].data = [...values];
    chart.update();
  });
});

/* Reset auf 1 */
document.getElementById('btnReset').addEventListener('click',()=>{
  values = values.map(()=>1);
  sliders.forEach(s=>s.value=1);
  chart.data.datasets[1].data = values;
  chart.update();
});

/* PNG-Export */
document.getElementById('btnSave').addEventListener('click',()=>{
  const exportCanvas = document.createElement('canvas');
  exportCanvas.width = 1400; exportCanvas.height = 1400;
  const x = exportCanvas.getContext('2d');
  x.fillStyle = "#167a72";
  x.fillRect(0,0,1400,1400);
  x.drawImage(canvas, 440, 440, 520, 520);
  const link = document.createElement('a');
  link.download = 'formatspinne-unterrichtsoeffnung.png';
  link.href = exportCanvas.toDataURL('image/png');
  link.click();
});
</script>
</body>
</html>
